# パターンマッチング検証結果

## 実装内容
枠の中に「x1」「x2」のような部品個数表示パターンがあるかを検出し、部品リストの枠だけを抽出する機能を追加。

## 検出結果

| ファイル | 正解数 | パターン検出後 | 評価 |
|----------|--------|----------------|------|
| パンターG型_002.jpg | 2 | 2 | ✅ **完璧** |
| パンターG型_004.jpg | 2 | 2 | ✅ **完璧** |
| パンターG型_003.jpg | 3 | 2 | △ 1個不足 |
| パンターG型_001.jpg | 2 | 0 | ❌ 全く検出されず |
| パンターG型_005.jpg | 6 | 0 | ❌ 全く検出されず |

## 問題点
- 文字領域の検出が画像によって大きくばらつく
- 001と005では文字領域が全く検出されない（二値化やサイズ範囲の問題）
- 安定性に欠ける

## 比較: サイズフィルタのみ vs パターン検出

| ファイル | 正解 | サイズフィルタのみ | パターン検出 |
|----------|------|-------------------|--------------|
| 001.jpg | 2 | **2** ✅ | 0 ❌ |
| 002.jpg | 2 | 3 | **2** ✅ |
| 003.jpg | 3 | 4 | 2 |
| 004.jpg | 2 | 3 | **2** ✅ |
| 005.jpg | 6 | **5** | 0 ❌ |

## 結論
パターン検出は一部のファイルで効果的だが、全体としては不安定。
**サイズフィルタのみの方が安定している**。

## 推奨
1. サイズフィルタのみで進める（安定性重視）
2. 管理画面で人間が微調整するフローを前提とする
