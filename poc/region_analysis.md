# 検出結果の分析 - アセンブリ番号の対応関係

## 目標
サンプル画像には以下の6つのアセンブリ番号が存在:
- 31
- 32
- 33
- 34
- 35
- 36

## 検出結果（13個の領域）

### 視覚確認による分析

検出された各領域を目視で確認し、アセンブリ番号との対応を分析:

**Region 7**:
- 左上に大きな領域
- アセンブリ番号31を含む
- 部品リスト（赤枠）あり
- ✅ **正解: アセンブリ番号31**

**Region 11**:
- 上部左側の領域
- アセンブリ番号32を含む可能性
- 部品リスト（赤枠）あり  
- ✅ **正解候補: アセンブリ番号32**

**Region 12**:
- 上部中央の領域
- アセンブリ番号33を含む可能性
- 部品リスト（赤枠）あり
- ✅ **正解候補: アセンブリ番号33**

**Region 10**:
- 上部右寄りの領域
- ✅ **正解候補: アセンブリ番号34または35**

**Region 13**:
- 上部右端の領域
- ✅ **正解候補: アセンブリ番号36**

**Region 4, 5, 6, 8, 9**:
- 詳細確認が必要
- アセンブリ番号34または35を含む可能性あり

**Region 1, 2, 3**:
- 比較的小さな領域
- 部品リストの一部のみ、または誤検出の可能性

## 問題点の分析

### なぜ34と35が見つからないか？

**仮説1: 領域が分割されている**
- 34と35の領域が複数の小さな領域に分割されて検出された
- もしくは他の番号の領域と統合されている

**仮説2: 枠が検出されなかった**
- 34と35の部品リストの枠が赤でも黒でもなく、別の色（青など）の可能性
- または枠が薄くて検出されなかった

**仮説3: レイアウトが異なる**
- 34と35は他と異なるレイアウトで、現在のアルゴリズムでは正しく検出できない

## 次のステップ

1. **デバッグマスク画像の確認**
   - `debug_mask_red.jpg`, `debug_mask_black.jpg`を確認
   - 34と35の部品リストの枠が検出されているか確認

2. **元画像と検出結果の重ね合わせ確認**
   - `detected_regions.jpg`で34と35の位置を特定

3. **手動アノテーション**
   - 元画像から34と35の正確な位置を特定
   - その領域が検出結果のどれに対応するか確認

4. **フィルタリング条件の見直し**
   - サイズ、アスペクト比などの閾値が適切か再検討
